#/bin/sh 

. ./units.sh
configs_list=(config/*)

printf "Select configs to Setup: \n1 General\n2 Neovim\n3 Plasma\n"
read answer
[[ $(check_valid_input $answer) == true ]]

display_presets
num_of_tries=3
#for i in {1..$num_of_tries}; do
#    echo "Num: $i"
#done


for i in {1..3}; do
    echo "Please select config"
    read config_index
    
    echo "Num: $i"

    if [ $config_index -ge 0 ] && [ $(is_number) ] && [ $config_index -lt ${#configs_list[@]} ];then
        break
    elif [ $i -ge $num_of_tries ];then
       echo "3 invalid inputs.. aborting... " && exit
    else
        echo "Error: please enter valid number"
        exit
    fi
done

selected_config=$(select_preset $config_index)

#load_selected_configs_to_current_machine $answer $selected_config
